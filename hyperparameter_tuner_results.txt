
4. üîß Custom Mode (select specific phases)
   - Choose which phases to run
   - Flexible tuning strategy

5. üìä Visualize Existing Results
   - Load and plot previous tuning results

6. ‚ùå Exit

Enter choice (1-6): 2

üî¨ FULL MODE SELECTED
   This will take 30-45 minutes...
   Continue? (y/n): y

================================================================================
MARL-3D: COMPLETE 6-PHASE HYPERPARAMETER TUNING
================================================================================

This will sequentially optimize:
  Phase 1: AERAP parameters (mu, nu)
  Phase 2: Reward weights (local, team, fairness)
  Phase 3: RL parameters (learning_rate, discount_factor)
  Phase 4: MARL parameters (buffer, retention, radius)
  Phase 5: Async/3D parameters (grace, beam_tol, p_ls)
  Phase 6: Reward values (collision, discovery, penalties)  ‚Üê NEW!

Estimated time: 30-50 minutes

Press ENTER to start complete tuning...

================================================================================
PHASE 1: TUNING AERAP PARAMETERS (mu, nu)
================================================================================
Search space: 7 √ó 7
Total configs: 49
Trials per config: 3
Total simulations: 147

AERAP Tuning:   0%|                                                                                                                                                            | 0/49 [00:00<?, ?it/s^AERAP Tuning:   0%|                                                                                                                                                            | 0/49 [01:18<?, ?it/s]
(base) ankit@Ankits-Laptop DC % clear
(base) ankit@Ankits-Laptop DC % python hyperparameter_tuner.py
‚úÖ MARL-3D code imported successfully!


================================================================================
MARL-3D COMPREHENSIVE HYPERPARAMETER TUNING FRAMEWORK v3.0
================================================================================

üéØ Objective: Find optimal parameters for fastest convergence
              with high discovery rate and low energy

üìã Tuning Strategy:
   Phase 1: AERAP parameters (mu, nu) - MOST CRITICAL
   Phase 2: Reward weights (local, team, fairness)
   Phase 3: RL parameters (learning_rate, discount_factor)
   Phase 4: MARL parameters (buffer, retention, radius)
   Phase 5: Async/3D parameters (grace, beam_tol, p_ls)

üîß Fixed Parameters (Hardware-Validated):
   - Communication radius: 100m (Ubiquiti NanoStation)
   - Mobility speeds: 3-8 m/s (DJI Matrice 600)
   - Beamwidth: 45¬∞ (from datasheet)
   - Clock drift: 2 ppm (Maxim DS3231)

================================================================================
SELECT TUNING MODE:
================================================================================

1. üöÄ Quick Mode (reduced search space, ~10-15 min)
   - 3√ó3 AERAP grid
   - Limited RL/MARL/Async combinations
   - Good for initial exploration

2. üî¨ Full Mode (comprehensive search, ~30-45 min)
   - 7√ó7 AERAP grid
   - Complete RL/MARL/Async search
   - Recommended for final paper

3. üéØ AERAP Only (focus on critical params, ~15-20 min)
   - Only tune AERAP parameters
   - Use defaults for other parameters
   - Fast convergence optimization

4. üîß Custom Mode (select specific phases)
   - Choose which phases to run
   - Flexible tuning strategy

5. üìä Visualize Existing Results
   - Load and plot previous tuning results

6. ‚ùå Exit

Enter choice (1-6): 2

üî¨ FULL MODE SELECTED
   This will take 30-45 minutes...
   Continue? (y/n): y

================================================================================
MARL-3D: COMPLETE 6-PHASE HYPERPARAMETER TUNING
================================================================================

This will sequentially optimize:
  Phase 1: AERAP parameters (mu, nu)
  Phase 2: Reward weights (local, team, fairness)
  Phase 3: RL parameters (learning_rate, discount_factor)
  Phase 4: MARL parameters (buffer, retention, radius)
  Phase 5: Async/3D parameters (grace, beam_tol, p_ls)
  Phase 6: Reward values (collision, discovery, penalties)  ‚Üê NEW!

Estimated time: 30-50 minutes

Press ENTER to start complete tuning...

================================================================================
PHASE 1: TUNING AERAP PARAMETERS (mu, nu)
================================================================================
Search space: 7 √ó 7
Total configs: 49
Trials per config: 3
Total simulations: 147

AERAP Tuning: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 49/49 [1:06:50<00:00, 81.84s/it]

‚úÖ PHASE 1 COMPLETE!
   Best mu: 0.120
   Best nu: 0.130
   Avg Conv Time: 708.0 slots
   Avg Discovery: 90.31%
   Conv Rate: 100%

================================================================================
PHASE 2: TUNING REWARD WEIGHTS
================================================================================
Testing 21 weight combinations
Trials per config: 2

Reward Tuning: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 21/21 [19:16<00:00, 55.08s/it]

‚úÖ PHASE 2 COMPLETE!
   Best Local Weight: 0.60
   Best Team Weight: 0.10
   Best Fairness Weight: 0.30

================================================================================
PHASE 3: TUNING RL PARAMETERS
================================================================================
Testing 20 RL parameter combinations
Trials per config: 2

RL Tuning: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 20/20 [18:02<00:00, 54.10s/it]

‚úÖ PHASE 3 COMPLETE!
   Best Learning Rate: 0.005
   Best Discount Factor: 0.90

================================================================================
PHASE 4: TUNING MARL PARAMETERS
================================================================================
Testing 27 MARL parameter combinations
Trials per config: 2

MARL Tuning: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 27/27 [23:11<00:00, 51.55s/it]

‚úÖ PHASE 4 COMPLETE!
   Best Buffer Size: 300
   Best Retention Slots: 150
   Best Spatial Radius: 120.0m

================================================================================
PHASE 5: TUNING ASYNC/3D PARAMETERS
================================================================================
Testing 36 Async/3D parameter combinations
Trials per config: 2

Async/3D Tuning: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 36/36 [26:19<00:00, 43.87s/it]

‚úÖ PHASE 5 COMPLETE!
   Best Grace Period Factor: 3.5
   Best Beam Tolerance: 1.20
   Best p_ls: 0.6

================================================================================
PHASE 6: TUNING REWARD VALUES
================================================================================
This tunes the actual reward magnitudes for:
  - Collision detection
  - New neighbor discovery
  - Known neighbor rediscovery
  - Nothing heard (idle)

Testing 180 reward value combinations
Trials per config: 2

Reward Value Tuning: 100%|‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà| 180/180 [1:59:36<00:00, 39.87s/it]

‚úÖ PHASE 6 COMPLETE!
   Best Collision Reward: 1.5
   Best Discovery Reward: 0.8
   Best Known Neighbor Penalty: -0.5
   Best Nothing Penalty: -0.3

================================================================================
üéâ ALL 6 PHASES COMPLETE!
================================================================================

Total tuning time: 273.3 minutes

üìä AERAP heatmaps saved: aerap_full.png
üìä Reward weight plots saved: rewards_full.png
üìä RL parameter plots saved: rl_full.png
üìä Complete tuning summary saved: summary_full.png

üíæ Complete results saved: tuning_results_full.json
üìÑ LaTeX table saved: optimal_params_full.tex

================================================================================
HOW TO USE THESE OPTIMIZED PARAMETERS
================================================================================

1Ô∏è‚É£  Update your NetworkConfig in marl_3d_hardware_validated.py:

config = NetworkConfig()
config.mu = 0.120
config.nu = 0.130
config.learning_rate = 0.005
config.discount_factor = 0.90
config.reward_local_weight = 0.60
config.reward_team_weight = 0.10
config.reward_fairness_weight = 0.30
config.experience_buffer_size = 300
config.experience_retention_slots = 150
config.spatial_relevance_radius = 120.0
config.grace_period_factor = 3.5
config.beam_alignment_tolerance = 1.20
config.p_ls = 0.6

2Ô∏è‚É£  Run simulations with optimized parameters

3Ô∏è‚É£  Report performance improvements in your paper:
   - Convergence Time: 708.0 slots
   - Discovery Rate: 90.3%
   - Convergence Rate: 100%

4Ô∏è‚É£  Include tuning methodology in paper:
   'Hyperparameters optimized via 5-phase grid search:
    Phase 1 (AERAP), Phase 2 (Rewards), Phase 3 (RL),
    Phase 4 (MARL), Phase 5 (Async/3D).'

================================================================================
BASELINE COMPARISON
================================================================================

Running baseline configuration for comparison...

Running optimized configuration...
üìä Comparison plot saved: baseline_vs_optimized.png

================================================================================
‚úÖ TUNING COMPLETE!
================================================================================

üìÅ Generated Files:
   - summary_full.png
   - aerap_full.png
   - optimal_params_full.tex
   - rl_full.png
   - tuning_results_full.json
   - rewards_full.png

üìä Displaying plots...
